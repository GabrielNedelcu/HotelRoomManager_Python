{% extends "base.html" %}

{% from 'macros.html' import data_table %} 

{% block title %}
    View Reservations
{% endblock %}

{% block content %}
  <h1 align="center"> Reservations history</h1>

  <!-- Table including all the reservations in the database -->

  <div class="row justify-content-center">
    <div class="col-auto">
      <table class="table table-hover">
        <thead>
          <!-- Generate the headers according to the data -->
          <tr>
            {% for header in headings %}
              <th scope="col"> {{ header }} </th>
            {% endfor %}
          </tr>
        </thead>
      
        <tbody>
          <!-- Generate each row -->
          {% for row in data %}
            <tr>
              {% for cell in row %}
                <td> {{ cell }} </td>
              {% endfor %}
              <td>
                <!-- Edit Room Button -->
                <a href="/room-profile/{{ row[1] }}">
                  <button type="button" class="btn btn-primary">Edit Room</button>
                </a>
              </td>
              <td>
                <!-- Edit Client Button -->
                <a href="/client-profile/{{ row[3] }}">
                  <button type="button" class="btn btn-primary">Edit Client</button>
                </a>
              </td>
              <td>
                <!-- Edit Reservation Button -->
                <a href="/reservation-profile/{{ row[0] }}">
                  <button type="button" class="btn btn-primary">Edit Reservation</button>
                </a>
              </td>
              <td>
                <!-- Delete Reservation Button -->
                <a href="delete-reservation/{{ row[0] }}">
                  <button type="button" class="btn btn-danger">Delete Reservation</button>
                </a>
              </td>
            </tr>
            {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
{% endblock %}